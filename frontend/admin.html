<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - MedBook</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="admin-page">
        <header class="admin-header">
            <div class="admin-header-content">
                <h1>üë®‚Äçüíº –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π MedBook</p>
            </div>
        </header>

        <main class="content-container admin-main-content">
           <div class="admin-nav">
                <div class="nav-buttons">
                    <button class="admin-nav-btn active" data-section="doctors">
                        <span class="nav-icon">üë®‚Äç‚öïÔ∏è</span>
                        <span class="nav-text">–í—Ä–∞—á–∏</span>
                    </button>
                    <button class="admin-nav-btn" data-section="users">
                        <span class="nav-icon">üë•</span>
                        <span class="nav-text">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                    </button>
                    <button class="admin-nav-btn" data-section="appointments">
                        <span class="nav-icon">üìã</span>
                        <span class="nav-text">–ó–∞–ø–∏—Å–∏</span>
                    </button>
                    <button class="admin-nav-btn" data-section="stats">
                        <span class="nav-icon">üìä</span>
                        <span class="nav-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </button>
                </div>
                <div class="nav-actions">
                    <a href="/" class="nav-action-btn home-btn">
                        <span class="nav-icon">üè†</span>
                        <span class="nav-text">–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
                    </a>
                    <button class="nav-action-btn logout-btn" onclick="logout()">
                        <span class="nav-icon">üö™</span>
                        <span class="nav-text">–í—ã–π—Ç–∏</span>
                    </button>
                </div>
            </div>
            
            <!-- –°–µ–∫—Ü–∏—è –≤—Ä–∞—á–µ–π -->
            <div class="admin-section active" id="doctors-section">
                <div class="section-header">
                    <h2>üë®‚Äç‚öïÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—á–∞–º–∏</h2>
                    <button class="add-btn" onclick="showAddDoctorForm()">+ –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–∞—á–∞</button>
                </div>
                
                <!-- –§–æ—Ä–º–∞ –≤—Ä–∞—á–∞ -->
                <div class="doctor-form" id="doctor-form" style="display: none;">
                    <h3 id="doctor-form-title">–î–æ–±–∞–≤–∏—Ç—å –≤—Ä–∞—á–∞</h3>
                    <form id="doctor-form-element">
                        <input type="hidden" id="doctor-id">
                        <div class="form-group">
                            <label>–§–ò–û –≤—Ä–∞—á–∞:</label>
                            <input type="text" id="doctor-fullname" required>
                        </div>
                        <div class="form-group">
                            <label>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:</label>
                            <input type="text" id="doctor-specialization" required>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <button type="submit" class="add-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            <button type="button" class="logout-btn" onclick="hideDoctorForm()">‚ùå –û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </form>
                </div>
                
                <!-- –¢–∞–±–ª–∏—Ü–∞ –≤—Ä–∞—á–µ–π -->
                <div class="table-container">
                    <table class="doctors-table">
                        <thead>
                            <tr>
                                <th>–§–ò–û</th>
                                <th>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</th>
                                <th>–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="doctors-table-body">
                            <tr>
                                <td colspan="4" style="text-align: center;">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- –°–µ–∫—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <div class="admin-section" id="users-section">
                <div class="section-header">
                    <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                    <div class="user-stats">
                        <span class="stat-badge">–í—Å–µ–≥–æ: <span id="total-users">0</span></span>
                        <span class="stat-badge">–ü–∞—Ü–∏–µ–Ω—Ç—ã: <span id="patient-count">0</span></span>
                        <span class="stat-badge">–ê–¥–º–∏–Ω—ã: <span id="admin-count">0</span></span>
                    </div>
                </div>
                
                <!-- –§–∏–ª—å—Ç—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div class="filters">
                    <div class="filter-group">
                        <label>–†–æ–ª—å:</label>
                        <select id="role-filter">
                            <option value="all">–í—Å–µ —Ä–æ–ª–∏</option>
                            <option value="patient">–ü–∞—Ü–∏–µ–Ω—Ç—ã</option>
                            <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>–ü–æ–∏—Å–∫:</label>
                        <input type="text" id="user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email...">
                    </div>
                </div>
                
                <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div class="table-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                <th>üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã</th>
                                <th>üéØ –†–æ–ª—å</th>
                                <th>üìÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</th>
                                <th>üõ†Ô∏è –î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <tr>
                                <td colspan="6" style="text-align: center;">–ó–∞–≥—Ä—É–∑–∫–∞...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –∑–∞–ø–∏—Å–µ–π -->
            <div class="admin-section" id="appointments-section">
                <div class="section-header">
                    <h2>üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏</h2>
                    <div class="appointment-stats">
                        <span class="stat-badge">–í—Å–µ–≥–æ: <span id="total-appointments">0</span></span>
                        <span class="stat-badge">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã: <span id="scheduled-count">0</span></span>
                        <span class="stat-badge">–ó–∞–≤–µ—Ä—à–µ–Ω—ã: <span id="completed-count">0</span></span>
                    </div>
                </div>
                <div class="card">
                    <p>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å—è–º–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <div class="admin-section" id="stats-section">
                <div class="section-header">
                    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <div class="stat-number" id="stats-total-users">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë®‚Äç‚öïÔ∏è</div>
                        <div class="stat-info">
                            <div class="stat-number" id="stats-total-doctors">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –≤—Ä–∞—á–µ–π</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-info">
                            <div class="stat-number" id="stats-total-appointments">0</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-number" id="stats-today-appointments">0</div>
                            <div class="stat-label">–ó–∞–ø–∏—Å–µ–π —Å–µ–≥–æ–¥–Ω—è</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer admin-footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>üè• MedBook Admin</h4>
                    <p>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ v1.0</p>
                </div>
                <div class="footer-section">
                    <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                    <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: <span id="footer-user-count">0</span></p>
                    <p>–í—Ä–∞—á–µ–π: <span id="footer-doctor-count">0</span></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MedBook. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.</p>
            </div>
        </footer>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/admin-new.js"></script>
</body>
</html>